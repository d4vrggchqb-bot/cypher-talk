<!doctype html>
<html lang="en">

<head>
	<meta charset="utf-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1" />
	<title>User Profile — Cypher Talk</title>
	<!-- Reuse theme from messages page -->
	<link rel="stylesheet" href="../messages-page/main.css">
	<!-- Page-specific styles -->
	<link rel="stylesheet" href="userInfo.css">

	<!-- Load Supabase (matches other pages) -->
	<script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
</head>

<body>
	<canvas id="matrixCanvas"></canvas>

	<!-- Toast container for transient messages -->
	<!-- Matrix canvas (simple) inserted as page background -->
	<canvas id="matrixCanvas" aria-hidden="true"></canvas>
	<div id="toast-container" aria-live="polite" aria-atomic="true"></div>

	<div class="profile-container">
		<div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:12px;">
			<a href="/messages-page/main.html" class="btn btn-ghost" title="Back to Messenger">← Back</a>

		</div>
		<h1>User Profile</h1>
		<p class="small">Customize your profile</p>

		<div class="profile-grid">
			<!-- Left column: avatar and quick actions -->
			<div class="card">
				<div style="text-align:center">
					<label for="avatarInput" class="avatar-picker" title="Click to change profile picture">
						<img id="avatarPreview" class="avatar" alt="Avatar preview" src="/userInfo-page/defaultavatar.png" />
						<div class="avatar-overlay">Change</div>
					</label>
					<input id="avatarInput" type="file" accept="image/*" style="display:none">
					<div id="avatarInfo" class="small" aria-live="polite"></div>
				</div>
			</div>

			<!-- Right column: details and password -->
			<div>
				<form id="profileForm" class="card">
					<h2>Profile Details</h2>
					<div class="form-row">
						<label for="displayName">Display Name</label>
						<input id="displayName" name="displayName" placeholder="e.g. Ada Lovelace" />
					</div>
					<div class="form-row" style="display:flex;gap:8px;">
						<div style="flex:1">
							<label for="firstName">First Name</label>
							<input id="firstName" name="firstName" />
						</div>
						<div style="flex:1">
							<label for="lastName">Last Name</label>
							<input id="lastName" name="lastName" />
						</div>
					</div>
					<div class="form-row">
						<label for="email">Email</label>
						<input id="email" name="email" type="email" />
					</div>
					<div class="form-row">
						<label for="description">Description / Bio</label>
						<textarea id="description" name="description" placeholder="Tell people about yourself"></textarea>
					</div>

					<div style="display:flex;gap:10px;align-items:center;margin-top:8px;">
						<button type="button" id="saveProfile" class="btn btn-primary">Save Profile</button>
						<button type="button" id="resetProfile" class="btn btn-ghost">Reset</button>
						<div id="saveMsg" class="message small" aria-live="polite"></div>
					</div>
				</form>

				<div class="card" style="margin-top:12px;">
					<h2>Change Password</h2>
					<div class="form-row">
						<label for="currentPassword">Current Password</label>
						<input id="currentPassword" type="password" />
					</div>
					<div class="form-row">
						<label for="newPassword">New Password</label>
						<input id="newPassword" type="password" />
					</div>
					<div class="form-row">
						<label for="confirmPassword">Confirm New Password</label>
						<input id="confirmPassword" type="password" />
					</div>
					<div style="display:flex;gap:8px;align-items:center;">
						<button id="changePwd" class="btn btn-primary">Change Password</button>
						<div id="pwdMsg" class="message small" aria-live="polite"></div>
					</div>
				</div>
			</div>

		</div>
	</div>

	<script src="userInfo.js"></script>
</body>

</html>